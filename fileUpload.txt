    @PostMapping(produces = APPLICATION_JSON_VALUE)
    @Operation(summary = "Скачивания файла",
            description = "Позволяет скачивать файлы с пк")
    @CrossOrigin
    public ResponseEntity<String> uploadFile(@RequestParam(value = "file") MultipartFile file) {
        return new ResponseEntity<>(storageService.uploadFile(file), HttpStatus.OK);
    }



-----------------


    @Value("${application.bucket.name}")
    private String bucketName;

    @Autowired
    private AmazonS3 s3Client;

    public String uploadFile(MultipartFile file) {
        File fileObj = convertMultiPartFileToFile(file);
        String fileName =new Random().nextInt(100000000)+""+System.currentTimeMillis() + fileObj.hashCode() + "." + getFileExtension(fileObj);
        fileName = fileName.replace('-', ' ');
        fileName = fileName.replaceAll("\\s+", "");
        s3Client.putObject(new PutObjectRequest(bucketName, fileName, fileObj));
        fileObj.delete();
        return fileName;
    }


    private File convertMultiPartFileToFile(MultipartFile file) {
        File convertedFile = new File(file.getOriginalFilename());
        try (FileOutputStream fos = new FileOutputStream(convertedFile)) {
            fos.write(file.getBytes());
        } catch (IOException e) {
            log.error("Erorr converting multipartFile to file ", e);
        }
        return convertedFile;
    }


